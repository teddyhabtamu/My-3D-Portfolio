import{a as e,j as t}from"./index-6df90a2b.js";import{a as r}from"./vendor-e5f4ef42.js";import{C as a,P as n,i,b as o,d as s,e as d}from"./three-a0208125.js";import"./animations-aa1d428c.js";const u=t=>{const a=r.useRef(),[n,u]=r.useState(!1),l=r.useRef(0);r.useEffect(()=>{const e=()=>{const e=window.innerWidth<768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);u(e)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const c=r.useMemo(()=>{if(n)return 800;return navigator.hardwareConcurrency<=4?1200:2e3},[n]),[h]=r.useState(()=>i(new Float32Array(c),{radius:1.2}));return o((e,t)=>{if(a.current){l.current+=1;const e=n?3:2;if(l.current%e!==0)return;const r=t*(n?.1:.2);a.current.rotation.x-=r/15,a.current.rotation.y-=r/20}}),e("group",{rotation:[0,0,Math.PI/4],children:e(s,{ref:a,positions:h,stride:3,frustumCulled:!0,...t,children:e(d,{transparent:!0,color:"#f272c8",size:n?.004:.002,sizeAttenuation:!0,depthWrite:!1})})})},l=()=>{const[i,o]=r.useState(!0);return r.useEffect(()=>{(navigator.hardwareConcurrency<=2||window.innerWidth<480&&/Android/i.test(navigator.userAgent)||navigator.deviceMemory<=2)&&o(!1)},[]),e("div",i?{className:"w-full h-auto absolute inset-0 z-[-1]",children:t(a,{camera:{position:[0,0,1]},dpr:[1,1.2],performance:{min:.3},frameloop:"demand",children:[e(r.Suspense,{fallback:null,children:e(u,{})}),e(n,{all:!0})]})}:{className:"w-full h-auto absolute inset-0 z-[-1]",children:e("div",{className:"stars-fallback",style:{position:"absolute",width:"100%",height:"100%",background:"radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%)",overflow:"hidden"},children:[...Array(5)].map((t,r)=>e("div",{style:{position:"absolute",width:2*Math.random()+1+"px",height:2*Math.random()+1+"px",background:"#f272c8",borderRadius:"50%",animation:`twinkle ${2+2*Math.random()}s infinite`,top:100*Math.random()+"%",left:100*Math.random()+"%"}},r))})})};export{l as default};
